import{aF as g,aG as z,Q as le,M as I}from"./index-7FzYWXJd.js";import{i as C,a as ce,b as ue,c as q,p as U,d as D,L as M,e as k,h as de,S as fe,A as ve,j as pe,k as Y,l as me,m as K,n as he,o as Ae,G as ge,q as be,r as ye,s as V,w as ee,t as G,u as Re,C as ae,g as Se,v as xe,R as Pe,T as Oe,x as Ie}from"./generateCategoricalChart-D7g3Hdet.js";import{P as Ee,a as je}from"./PolarAngleAxis-B9h0_Vs0.js";var H;function F(a){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},F(a)}function L(){return L=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e])}return a},L.apply(this,arguments)}function te(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);n&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),r.push.apply(r,e)}return r}function c(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?te(Object(r),!0).forEach(function(e){y(a,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})}return a}function we(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function ne(a,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,ie(e.key),e)}}function Te(a,n,r){return n&&ne(a.prototype,n),r&&ne(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}function _e(a,n,r){return n=W(n),ke(a,re()?Reflect.construct(n,r||[],W(a).constructor):n.apply(a,r))}function ke(a,n){if(n&&(F(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(a)}function Ke(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function re(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(re=function(){return!!a})()}function W(a){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W(a)}function Le(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&Q(a,n)}function Q(a,n){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(a,n)}function y(a,n,r){return n=ie(n),n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function ie(a){var n=De(a,"string");return F(n)=="symbol"?n:n+""}function De(a,n){if(F(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var e=r.call(a,n||"default");if(F(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}var E=function(a){function n(r){var e;return we(this,n),e=_e(this,n,[r]),y(e,"pieRef",null),y(e,"sectorRefs",[]),y(e,"id",Re("recharts-pie-")),y(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),C(t)&&t()}),y(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),C(t)&&t()}),e.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},e}return Le(n,a),Te(n,[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?t.indexOf(e)!==-1:e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?e.length!==0:e||e===0}},{key:"renderLabels",value:function(e){var t=this.props.isAnimationActive;if(t&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,u=i.labelLine,d=i.dataKey,s=i.valueKey,v=q(this.props,!1),p=q(o,!1),S=q(u,!1),x=o&&o.offsetRadius||20,m=e.map(function(l,f){var h=(l.startAngle+l.endAngle)/2,A=U(l.cx,l.cy,l.outerRadius+x,h),R=c(c(c(c({},v),l),{},{stroke:"none"},p),{},{index:f,textAnchor:n.getTextAnchor(A.x,l.cx)},A),T=c(c(c(c({},v),l),{},{fill:"none",stroke:l.fill},S),{},{index:f,points:[U(l.cx,l.cy,l.outerRadius,h),A]}),P=d;return D(d)&&D(s)?P="value":D(d)&&(P=s),g.createElement(M,{key:"label-".concat(l.startAngle,"-").concat(l.endAngle,"-").concat(l.midAngle,"-").concat(f)},u&&n.renderLabelLineItem(u,T,"line"),n.renderLabelItem(o,R,k(l,P)))});return g.createElement(M,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(e){var t=this,i=this.props,o=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return e.map(function(s,v){if((s==null?void 0:s.startAngle)===0&&(s==null?void 0:s.endAngle)===0&&e.length!==1)return null;var p=t.isActiveIndex(v),S=d&&t.hasActiveIndex()?d:null,x=p?o:S,m=c(c({},s),{},{stroke:u?s.fill:s.stroke,tabIndex:-1});return g.createElement(M,L({ref:function(f){f&&!t.sectorRefs.includes(f)&&t.sectorRefs.push(f)},tabIndex:-1,className:"recharts-pie-sector"},de(t.props,s,v),{key:"sector-".concat(s==null?void 0:s.startAngle,"-").concat(s==null?void 0:s.endAngle,"-").concat(s.midAngle,"-").concat(v)}),g.createElement(fe,L({option:x,isActive:p,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,i=t.sectors,o=t.isAnimationActive,u=t.animationBegin,d=t.animationDuration,s=t.animationEasing,v=t.animationId,p=this.state,S=p.prevSectors,x=p.prevIsAnimationActive;return g.createElement(ve,{begin:u,duration:d,isActive:o,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(v,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var l=m.t,f=[],h=i&&i[0],A=h.startAngle;return i.forEach(function(R,T){var P=S&&S[T],w=T>0?pe(R,"paddingAngle",0):0;if(P){var N=Y(P.endAngle-P.startAngle,R.endAngle-R.startAngle),b=c(c({},R),{},{startAngle:A+w,endAngle:A+N(l)+w});f.push(b),A=b.endAngle}else{var _=R.endAngle,O=R.startAngle,B=Y(0,_-O),$=B(l),j=c(c({},R),{},{startAngle:A+w,endAngle:A+$+w});f.push(j),A=j.endAngle}}),g.createElement(M,null,e.renderSectorsStatically(f))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[o].focus(),t.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[u].focus(),t.setState({sectorToFocus:u});break}case"Escape":{t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,i=e.isAnimationActive,o=this.state.prevSectors;return i&&t&&t.length&&(!o||!me(o,t))?this.renderSectorsWithAnimation():this.renderSectorsStatically(t)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,i=t.hide,o=t.sectors,u=t.className,d=t.label,s=t.cx,v=t.cy,p=t.innerRadius,S=t.outerRadius,x=t.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!K(s)||!K(v)||!K(p)||!K(S))return null;var l=z("recharts-pie",u);return g.createElement(M,{tabIndex:this.props.rootTabIndex,className:l,ref:function(h){e.pieRef=h}},this.renderSectors(),d&&this.renderLabels(o),he.renderCallByParent(this.props,null,!1),(!x||m)&&Ae.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,i){if(g.isValidElement(e))return g.cloneElement(e,t);if(C(e))return e(t);var o=z("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(ce,L({},t,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(e,t,i){if(g.isValidElement(e))return g.cloneElement(e,t);var o=i;if(C(e)&&(o=e(t),g.isValidElement(o)))return o;var u=z("recharts-pie-label-text",typeof e!="boolean"&&!C(e)?e.className:"");return g.createElement(ue,L({},t,{alignmentBaseline:"middle",className:u}),o)}}])}(le.PureComponent);H=E;y(E,"displayName","Pie");y(E,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ge.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});y(E,"parseDeltaAngle",function(a,n){var r=G(n-a),e=Math.min(Math.abs(n-a),360);return r*e});y(E,"getRealPieData",function(a){var n=a.data,r=a.children,e=q(a,!1),t=be(r,ae);return n&&n.length?n.map(function(i,o){return c(c(c({payload:i},e),i),t&&t[o]&&t[o].props)}):t&&t.length?t.map(function(i){return c(c({},e),i.props)}):[]});y(E,"parseCoordinateOfPie",function(a,n){var r=n.top,e=n.left,t=n.width,i=n.height,o=ye(t,i),u=e+V(a.cx,t,t/2),d=r+V(a.cy,i,i/2),s=V(a.innerRadius,o,0),v=V(a.outerRadius,o,o*.8),p=a.maxRadius||Math.sqrt(t*t+i*i)/2;return{cx:u,cy:d,innerRadius:s,outerRadius:v,maxRadius:p}});y(E,"getComposedData",function(a){var n=a.item,r=a.offset,e=n.type.defaultProps!==void 0?c(c({},n.type.defaultProps),n.props):n.props,t=H.getRealPieData(e);if(!t||!t.length)return null;var i=e.cornerRadius,o=e.startAngle,u=e.endAngle,d=e.paddingAngle,s=e.dataKey,v=e.nameKey,p=e.valueKey,S=e.tooltipType,x=Math.abs(e.minAngle),m=H.parseCoordinateOfPie(e,r),l=H.parseDeltaAngle(o,u),f=Math.abs(l),h=s;D(s)&&D(p)?(ee(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),h="value"):D(s)&&(ee(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),h=p);var A=t.filter(function(b){return k(b,h,0)!==0}).length,R=(f>=360?A:A-1)*d,T=f-A*x-R,P=t.reduce(function(b,_){var O=k(_,h,0);return b+(K(O)?O:0)},0),w;if(P>0){var N;w=t.map(function(b,_){var O=k(b,h,0),B=k(b,v,_),$=(K(O)?O:0)/P,j;_?j=N.endAngle+G(l)*d*(O!==0?1:0):j=o;var Z=j+G(l)*((O!==0?x:0)+$*T),J=(j+Z)/2,X=(m.innerRadius+m.outerRadius)/2,oe=[{name:B,value:O,payload:b,dataKey:h,type:S}],se=U(m.cx,m.cy,X,J);return N=c(c(c({percent:$,cornerRadius:i,name:B,tooltipPayload:oe,midAngle:J,middleRadius:X,tooltipPosition:se},b),m),{},{value:k(b,h),startAngle:j,endAngle:Z,payload:b,paddingAngle:G(l)*d}),N})}return c(c({},m),{},{sectors:w,data:t})});var Fe=Se({chartName:"PieChart",GraphicalChild:E,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ee},{axisType:"radiusAxis",AxisComp:je}],formatAxisMap:xe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Be({data:a}){if(!(a!=null&&a.length))return null;const n=["hsl(var(--primary))","hsl(var(--accent))","hsl(var(--ring))","hsl(var(--muted-foreground))"];return I.jsxs("div",{className:"trading-panel p-6",children:[I.jsx("h3",{className:"text-base font-semibold mb-4",children:"Reserves Composition"}),I.jsx("div",{className:"h-[260px]",children:I.jsx(Pe,{width:"100%",height:"100%",children:I.jsxs(Fe,{children:[I.jsx(E,{data:a,dataKey:"value",nameKey:"name",innerRadius:70,outerRadius:100,paddingAngle:2,children:a.map((r,e)=>I.jsx(ae,{fill:r.color||n[e%n.length]},`c-${e}`))}),I.jsx(Oe,{contentStyle:{background:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:8}}),I.jsx(Ie,{wrapperStyle:{fontFamily:"var(--font-mono)",fontSize:12}})]})})})]})}export{Be as default};
